<div class="padding-container">
	<div ng-model="employee_info" class="master-data">
		<div class="row collapse">
			<div class="large-12 columns">
				<div class="datos_contacto">
					<div class="panel bgwhite">
						<h4><span class="fa-info-circle fa"></span> Mis datos de contacto</h4>
						<hr class="m0" />
						<ul class="small-block-grid-2 medium-block-grid-4 large-block-grid-4">
							<li ng-repeat="data in employee_info.datos_contacto">
								<label for="{{data.ncamp}}">{{data.dcamp}}</label>
								<div class="row collapse">
									<div class="small-2 columns">
										<a href="#" class="button postfix"><span class="{{icons[$index]}}"></span></a>
									</div>
									<div class="small-10 columns">
										<input disabled="{{data.sedit == 'X' ? true : false}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row collapse">
			<div class="large-2 small-12 columns">
				<div class="icon-bar large-vertical {{countUp()}}">
					<a ng-if="employee_info.datos_personales.length" class="item active" ng-click="sorthings($event, 'datos_personales')">
						<span class="fa fa-border fa-user fa-2x" ></span>
						<label>Personales</label>
					</a>
					<a ng-if="employee_info.datos_familiares.length" class="item" ng-click="sorthings($event, 'datos_familiares')">
						<span class="fa fa-border fa-users fa-2x"></span>
						<label>Familiares</label>
					</a>
					<a ng-if="employee_info.datos_beneficiarios.length" class="item" ng-click="sorthings($event, 'datos_beneficiarios')">
						<span class="fa fa-border fa-child fa-2x"></span>
						<label>Beneficiarios</label>
					</a>
					<a ng-if="employee_info.datos_bancarios.length" class="item" ng-click="sorthings($event, 'datos_bancarios')">
						<span class="fa fa-border fa-credit-card fa-2x"></span>
						<label>Financieros</label>
					</a>
					<a ng-if="employee_info.datos_estudios.length" class="item" ng-click="sorthings($event, 'datos_estudios')">
						<span class="fa fa-border fa-book fa-2x"></span>
						<label>Estudios</label>
					</a>
					<a ng-if="employee_info.datos_impuestos.length" class="item" ng-click="sorthings($event, 'datos_impuestos')">
						<span class="fa fa-border fa-briefcase fa-2x"></span>
						<label>Impuestos</label>
					</a>
					<a ng-if="employee_info.datos_seguridadsocial.length" class="item" ng-click="sorthings($event, 'datos_seguridadsocial')">
						<span class="fa fa-border fa-briefcase fa-2x"></span>
						<label>Seguridad social</label>
					</a>
				</div>
			</div>
			
			<div class="large-10 small-12 columns">
				
				<div class="information datos_personales">
					<h4><span class="fa fa-user"></span> Mis datos personales</h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-4 large-block-grid-4" ui-sortable="sortableOptions" ng-model="employee_info.datos_personales">
						<li ng-repeat="data in employee_info.datos_personales">
							<div ng-switch="data.lstbx" class="relative" >
								<div ng-switch-default ng-init="data.ccamp=stringTo(data.tcamp, data.ccamp)">
									<label data="{{data.pvisu}}" for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" ng-model="data.ccamp" />
									<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, data.ccamp, data.objid, data.lstbx)" class="button tiny changes"><span class="fa fa-pencil fa-lg"></span></a>
								</div>
								<div ng-switch-when="IH_TB_T005L">
									<label data="{{data.pvisu}}" for="{{data.ncamp}}">{{data.dcamp}}</label>
									<div class="row collapse">
										<div class="small-9 columns">
											<select ng-disabled="{{data.sedit == 'X' ? false : true}}" ng-model="country" ng-class="search_country(data.ccamp)" ng-options="pais.land1 as pais.landx for pais in paises"  ng-change="cambiar(country)"></select>
										</div>
										<div class="small-3 columns">
											<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, country, data.objid, data.lstbx)" class="button tiny"><span class="fa fa-pencil fa-lg"></span></a>
										</div>
									</div>
								</div>
								<div ng-switch-when="IH_TB_T005S">
									<label data="{{data.pvisu}}" for="{{data.ncamp}}">{{data.dcamp}}</label>
									<div class="row collapse">
										<div class="small-9 columns">
											<select ng-disabled="{{data.sedit == 'X' ? false : true}}" ng-model="states" ng-class="search_estado(data.ccamp)" ng-options="estado.bland as estado.bezei for estado in estados"  ng-change="cambiar_estados(states)"></select>
										</div>
										<div class="small-3 columns">
											<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, data.ccamp, data.objid, data.lstbx)" class="button tiny"><span class="fa fa-pencil fa-lg"></span></a>
										</div>
									</div>
								</div>
								<div ng-switch-when="IH_TB_T005">
									<label data="{{data.pvisu}}" for="{{data.ncamp}}">{{data.dcamp}}</label>
									<div class="row collapse">
										<div class="small-9 columns">
											<select ng-disabled="{{data.sedit == 'X' ? false : true}}" ng-model="natio" ng-class="search_natio(data.ccamp)" ng-options="pais.land1 as pais.natio for pais in paises"  ng-change="cambiar(natio)"></select>
										</div>
										<div class="small-3 columns">
											<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, data.ccamp, data.objid, data.lstbx)" class="button tiny"><span class="fa fa-pencil fa-lg"></span></a>
										</div>
									</div>
								</div>
								<div ng-switch-when="IH_TB_GESC">
									<label data="{{data.pvisu}}" for="{{data.ncamp}}">{{data.dcamp}}</label>
									<div class="row collapse">
										<div class="small-9 columns">
											<select ng-disabled="{{data.sedit == 'X' ? false : true}}" ng-model="gender" ng-class="search_genero(data.ccamp)" ng-options="genero.label as genero.value for genero in gender_obj"  ng-change="cambiar_genero(gender)"></select>
										</div>
										<div class="small-3 columns">
											<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, data.ccamp, data.objid, data.lstbx)" class="button tiny"><span class="fa fa-pencil fa-lg"></span></a>
										</div>
									</div>
								</div>
								<div ng-switch-when="IH_TB_T502T">
									<label data="{{data.pvisu}}" for="{{data.ncamp}}">{{data.dcamp}}</label>
									<div class="row collapse">
										<div class="small-9 columns">
											<select ng-disabled="{{data.sedit == 'X' ? false : true}}" ng-model="est_civil" ng-class="search_est_civil(data.ccamp)" ng-options="est.label as est.value for est in estado_obj"  ng-change="cambiar_est_civil(est_civil)"></select>
										</div>
										<div class="small-3 columns">
											<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, data.ccamp, data.objid, data.lstbx)" class="button tiny"><span class="fa fa-pencil fa-lg"></span></a>
										</div>
									</div>
								</div>
							</div>
						<li>
					</ul>
				</div>
				
				<div class="information datos_familiares">
					<h4><span class="fa fa-users"></span> Mis datos familiares </h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-4 large-block-grid-4" ui-sortable="sortableOptions" ng-model="employee_info.datos_familiares">
						<li ng-repeat="data in employee_info.datos_familiares">
							<div ng-switch="data.tcamp">
								<div ng-switch-default>
									<div ng-switch="data.lstbx">
										<div ng-switch-default> 
											<label for="{{data.ncamp}}">{{data.dcamp}}</label>
											<div class="row collapse">
												<div class="small-9 columns">
													<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
												</div>
												<div class="small-3 columns">
													<a ng-if="data.sedit == 'X'"  ng-click="cambiarInfo(data.subty, data.ncamp, data.dcamp, data.ccamp, data.objid, data.lstbx)" class="button tiny"><span class="fa fa-pencil fa-lg"></span></a>
												</div>
											</div>
										</div>
										<div ng-switch-when="IH_TB_FAMSA">
											<label for="{{data.ncamp}}">{{data.dcamp}}</label>
											<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_related(familiares, data.ccamp)}}"/>
										</div>
										<div ng-switch-when="IH_TB_T005L">
											<label for="{{data.ncamp}}">{{data.dcamp}}</label>
											<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_country(paises,data.ccamp)}}"/>
										</div>
										<div ng-switch-when="IH_TB_T005">
											<label for="{{data.ncamp}}">{{data.dcamp}}</label>
											<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_natio(paises,data.ccamp)}}"/>
										</div>
										<div ng-switch-when="IH_TB_GESC">
											<label for="{{data.ncamp}}">{{data.dcamp}}</label>
											<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{genero[data.ccamp]}}"/>
										</div>
									</div>
								</div>
								<div ng-switch-when="HIDE">
									<label for="{{data.ncamp}}" class="hide">{{data.dcamp}}</label>
									<input type="hidden" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
								</div>
							</div>
						</li>
					</ul>
				</div>
				
				<div class="information datos_beneficiarios">
					<h4><span class="fa fa-child"></span> Mis datos beneficiarios</h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-3" ui-sortable="sortableOptions" ng-model="employee_info.datos_beneficiarios">
						<li ng-repeat="data in employee_info.datos_beneficiarios">
							<div ng-switch="data.ncamp">
								<div ng-switch-default>
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
								</div>
								<div ng-switch-when="P0831-FAM02">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_related(familiares, data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0831-FAM01">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_related(familiares, data.ccamp)}}"/>
								</div>
							</div>
						</li>
					</ul>
				</div>
				
				
				<div class="information datos_estudios">
					<h4><span class="fa fa-bank"></span> Mis datos estudios</h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-5" ui-sortable="sortableOptions" ng-model="employee_info.datos_estudios">
						<li ng-repeat="data in employee_info.datos_estudios">
							<div ng-switch="data.ncamp">
								<div ng-switch-default>
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
								</div>
								<div ng-switch-when="P0022-AUSBI">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_formacion(formacion,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0022-SLAND">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_country(paises,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0022-SLABS">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_titulos(titulos,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0022-SLTP1">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_especialidad(especialidad,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0022-SLART">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_institutos(institutos,data.ccamp)}}"/>
								</div>
							</div>
						</li>
					</ul>
				</div>
				
				
				<div class="information datos_bancarios">
					<h4><span class="fa fa-bank"></span> Mis datos bancarios</h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-5" ui-sortable="sortableOptions" ng-model="employee_info.datos_bancarios">
						<li ng-repeat="data in employee_info.datos_bancarios">
							<div ng-switch="data.ncamp">
								<div ng-switch-default>
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
								</div>
								<div ng-switch-when="P0009-BANKS">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_country(paises,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0008-BET01">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'TEX2' ? 'text' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_country(paises,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0009-BANKL">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{find_banks(bancos,data.ccamp)}}"/>
								</div>
								<div ng-switch-when="P0009-BKONT">
									<label for="{{data.ncamp}}">{{data.dcamp}}</label>
									<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp == '01' ? 'Cuenta corriente' : 'Cuenta de ahorros'}}"/>
								</div>
							</div>
						</li>
					</ul>
				</div>
				
				<div class="information datos_impuestos">
					<h4><span class="fa fa-child"></span> Mis datos de impuestos</h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-5" ui-sortable="sortableOptions" ng-model="employee_info.datos_impuestos">
						<li ng-repeat="data in employee_info.datos_impuestos">
							<label for="{{data.ncamp}}">{{data.dcamp}}</label>
							<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
						</li>
					</ul>
				</div>
				
				<div class="information datos_seguridadsocial">
					<h4><span class="fa fa-child"></span> Mis datos de impuestos</h4>
					<hr class="m0" />
					<ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-5" ui-sortable="sortableOptions" ng-model="employee_info.datos_seguridadsocial">
						<li ng-repeat="data in employee_info.datos_seguridadsocial">
							<label for="{{data.ncamp}}">{{data.dcamp}}</label>
							<input ng-disabled="{{data.sedit == 'X' ? false : true}}" type="{{data.tcamp == 'NUM' ? 'number' : data.tcamp}}" name="{{data.ncamp}}" value="{{data.ccamp}}"/>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
<br />
<div class="missolicitudes" ng-if="missolicitudes.length > 0">
	<h3 class="expand-title text-center">Mis solicitudes de datos maestros</h3>
	<br />
	<div class="row">
		<div class="large-12 columns">
			<table class="vacations">
				<thead>
					<tr>
						<th>Campo</th>
						<th>Cambio</th>
						<th>Estado</th>
						<th>Fecha de petición</th>
						<th class="borrar">BORRAR</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="solicitud in missolicitudes">
						<td>
							<h6>{{ solicitud.dcamp }}</h6>
						</td>
						<td>
							<h5 class="text-center">{{solicitud.comparador ? solicitud.comparador : solicitud.ccamp}}</h5>
						</td>
						<td>
							<h5 class="text-center"><span class="{{solicitud.approved}}">{{ solicitud.approved ? "Aprobado" : "En espera" }}</h5>
						</td>
						<td>	
							<h6><span class="fa fa-calendar fa-lg"></span> {{ solicitud.created_at | date:'short' }}</h6>
						</td>
						<td>
							<a href="" class="acciones borrar" ng-click="openModal($index,'elmodal')"></a>
							<div id="elmodal-{{$index}}" class="reveal-modal tiny" data-reveal>
								<h4 class="text-center"><span class="fa fa-warning fa-2x redtxt"></span></h4>
								<h4 class="text-center">¿Seguro quieres borrar esto?</h4>
								<br />
								<div class="text-center">
									<a href="" ng-click="deleteSolicitud(solicitud,$index)" class="button alert">Borrar</a>
								</div>
								<a class="close-reveal-modal">&#215;</a>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<br /><br />
		</div>
	</div>
</div>
<div class="solicitudes" ng-if="toapproved.length > 0">
	<br />
	<h3 class="expand-title text-center">Aprobar solicitudes de datos maestros</h3>
	<br />
	<div class="row">
		<div class="large-12 columns">
			<table class="vacations">
				<thead>
					<tr>
						<th>Empleado</th>
						<th>Campo</th>
						<th>Cambio</th>
						<th>Estado</th>
						<th>Fecha de petición</th>
						<th class="aprobar">APROBAR</th>
						<th class="negar">NEGAR</th>
						<th class="borrar">BORRAR</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="solicitud in toapproved">
						<td>
							<div class="profilepic">
								<img ng-src="{{solicitud.employee.image}}" alt="" />
							</div>
							<h5>{{solicitud.employee.short_name}} </h5>
							<h5 class="subheader">{{solicitud.employee.cargo}} </h5>
						</td>
						<td>
							<h6>{{ solicitud.dcamp }}</h6>
						</td>
						<td>
							<h5 class="text-center">{{solicitud.comparador ? solicitud.comparador : solicitud.ccamp}}</h5>
						</td>
						<td>
							<h5><span class="{{solicitud.approved}}">{{ solicitud.approved }}</h5>
						</td>
						<td>	
							<h6><span class="fa fa-calendar fa-lg"></span> {{ solicitud.created_at | date:'short' }}</h6>
						</td>
						<td><a href="" ng-click="approvedSolicitud(solicitud)" class="acciones"></a></td>
						<td><a href="" ng-click="deniedSolicitud(solicitud)" class="acciones negar"></a></td>
						<td>
							<a href="" class="acciones borrar" ng-click="openModal($index,'elmodal')"></a>
							<div id="elmodal-{{$index}}" class="reveal-modal tiny" data-reveal>
								<br />
								<h4 class="text-center">¿Seguro quieres borrar esto?</h4>
								<div class="text-center">
								<a href="" ng-click="deleteSolicitud(solicitud,$index)" class="button alert">Borrar</a>
								</div>
								<a class="close-reveal-modal">&#215;</a>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<br /><br />
		</div>
	</div>
</div>